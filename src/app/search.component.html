<div class="container">
  <!-- Search Bar -->
  <form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
    <div class="form-row form-group">
      <div class="col">
        <div><input formControlName="query" type="text" class="form-control" placeholder="Search"></div>
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary">Search</button>
      </div>

    </div>
    <div class="form-row form-group">
      <div class="col">
        Stuff
      </div>
      <!-- Sort Order -->
      <div class="col text-right">
        <div class="dropdown">
          <button class="btn btn-light dropdown-toggle" type="button" data-toggle="dropdown">
            {{ sortings.get(searchForm.value.sort) }}
          </button>
          <div class="dropdown-menu dropdown-menu-right">
            <button class="dropdown-item" type="button" *ngFor="let sort of sortings | keyvalue" (click)="changeSort(sort.key)"
              [ngClass]="{active: searchForm.value.sort == sort.key}">
              {{ sort.value }}
            </button>
          </div>
        </div>
      </div>

    </div>
    <!-- Item List -->
    <ul class="list-group">
      <item-thumbnail *ngFor="let item of items" [item]="item"></item-thumbnail>
    </ul>
    <!-- Pagination -->
    <br>
    <div *ngIf="pagination.totalEntries && +pagination?.totalEntries[0] == 0">
      <p>No Results :(</p>
    </div>
    <nav *ngIf="pages.length > 0">
      <ul class="pagination justify-content-center">
        <li class="page-item" [ngClass]="{disabled: searchForm.value.page == 1}">
          <button class="page-link" type="button" (click)="changePage(searchForm.value.page - 1)">
            <span>&laquo;</span>
          </button>
        </li>
        <li class="page-item" *ngFor="let page of pages" [ngClass]="{'active': searchForm.value.page == page, 'd-none': searchForm.value.page != page, 'd-md-block': searchForm.value.page != page}">
          <button class="page-link" type="button" [attr.disabled]="searchForm.value.page == page ? true : null" (click)="changePage(page)">{{page}}</button>
        </li>
        <li class="page-item" [ngClass]="{disabled: searchForm.value.page == 100}">
          <button class="page-link" type="button" (click)="changePage(searchForm.value.page + 1)">
            <span>&raquo;</span>
          </button>
        </li>
      </ul>
    </nav>
  </form>

</div>